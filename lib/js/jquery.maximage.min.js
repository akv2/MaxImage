(function(a){a.fn.maximage=function(b){function e(a){if(window.console&&window.console.log){window.console.log(a)}}function d(){if(a.browser.msie&&a.browser.version<9){return false}return true}var c={verticalCenter:true,horizontalCenter:true,scaleInterval:20,onFirstImageLoaded:function(){},onImagesLoaded:function(){}};if(b)a.extend(c,b);a.Body=a("body");a.Window=a(window);a.Scroll=a.browser.mozilla||a.browser.msie?a("html"):a.Body;a.Events={RESIZE:"resize"};this.each(function(e){var f=a(this),g=0,h=true,i=[];var j={setup:function(){if(a.Slides.length>0){for(var b in a.Slides){var c=a.Slides[b];f.append('<div class="mc-image '+c.theclass+'" title="'+c.alt+'" style="background-image:url(\''+c.url+"');"+c.style+'" data-href="'+c.datahref+'"></div>')}j.preload(0);j.resize()}},resize:function(){a.Window.bind(a.Events.RESIZE,function(){a.Scroll.addClass("mc-hide-scrolls");a.Window.data("h",a.Window.height()).data("w",a.Window.width());f.height(a.Window.data("h")).width(a.Window.data("w")).children().height(a.Window.data("h")).width(a.Window.data("w"));f.children().each(function(){this.cycleH=a.Window.data("h");this.cycleW=a.Window.data("w")});a(a.Scroll).removeClass("mc-hide-scrolls")})},preload:function(b){var d=a("<img/>");d.load(function(){if(g==0){l.setup();c.onFirstImageLoaded()}if(g==a.Slides.length-1){c.onImagesLoaded()}else{g++;j.preload(g)}});d[0].src=a.Slides[b].url;i.push(d[0])}};var k={setup:function(){a.Body.addClass("mc-old-browser").addClass("mc-browserversion-"+a.browser.version.split(".")[0]);if(a.Slides.length>0){for(var b in a.Slides){f.append(a("<div></div>").attr("class","mc-image mc-image-n"+b));a.Window.data("h",a(window).height()).data("w",a(window).width())}a("body").append(a("<div></div>").attr("class","mc-loader").css({position:"absolute",left:"-99999px;"}));k.preload(0);k.windowResize()}},preload:function(b){var d=a("<img/>");d.load(function(){var d=a(this);d.appendTo(a("div.mc-loader"));d.show();d.data("h",d.height()).data("w",d.width()).data("ar",d.width()/d.height());d.appendTo(a("div.mc-image-n"+b));a("div.mc-loader").html();if(g==a.Slides.length-1){a("div.mc-loader").remove();c.onImagesLoaded();k.onceLoaded(g)}else{k.onceLoaded(g);g++;k.preload(g)}});d[0].src=a.Slides[b].url},onceLoaded:function(a){k.maximage(a);if(a==0){f.css({visibility:"visible"});l.setup();c.onFirstImageLoaded()}},maximage:function(b){a("div.mc-image-n"+b).height(a.Window.data("h")).width(a.Window.data("w")).children("img").each(function(){k.scaleBG(a(this))})},scaleBG:function(b){if(a.Window.data("w")/a.Window.data("h")<b.data("ar")){b.height(a.Window.data("h")).width((a.Window.data("h")*b.data("ar")).toFixed(0))}else{b.height((a.Window.data("w")/b.data("ar")).toFixed(0)).width(a.Window.data("w"))}k.centerBG(b)},centerBG:function(b){if(c.verticalCenter&&b.width()==a.Window.data("w")){b.css({"margin-top":(b.height()-a.Window.data("h"))/2*-1,marginLeft:0})}if(c.horizontalCenter&&b.height()==a.Window.data("h")){b.css({marginLeft:(b.width()-a.Window.data("w"))/2*-1,marginTop:0})}},windowResize:function(){a.Window.bind(a.Events.RESIZE,function(){clearTimeout(this.id);this.id=setTimeout(k.doneResizing,200)})},doneResizing:function(){a(a.Scroll).addClass("mc-hide-scrolls");a.Window.data("h",a(window).height()).data("w",a(window).width());f.height(a.Window.data("h")).width(a.Window.data("w"));f.find(".mc-image").each(function(a){k.maximage(a)});a(a.Scroll).removeClass("mc-hide-scrolls")}};var l={setup:function(){f.addClass("mc-cycle");var c=a.extend(b.cycleOptions,{fit:1,height:a(window).height(),width:a(window).width()});f.cycle(c)}};var m={wait:function(){h=false},start:function(){setTimeout(function(){m.reset()},c.scaleInterval)},reset:function(){h=true},isReady:function(){return h}};var n={construct_slide_object:function(){var b=new Object;var c=new Array;f.find("img").each(function(){$img=a(this).clone();b={};b.url=$img.attr("src");b.title=$img.attr("title")!=undefined?$img.attr("title"):"";b.alt=$img.attr("alt")!=undefined?$img.attr("alt"):"";b.theclass=$img.attr("class")!=undefined?$img.attr("class"):"";b.styles=$img.attr("style")!=undefined?$img.attr("style"):"";b.orig=$img.clone();b.datahref=$img.attr("data-href")!=undefined?$img.attr("data-href"):"";$img.attr("src","");a(this).remove();c.push(b)});return c}};a.Slides=n.construct_slide_object();if(d()){j.setup()}else{k.setup()}})}})(jQuery)